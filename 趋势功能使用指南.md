# 趋势与话题功能使用指南

## 功能概述

X(Twitter) MCP 服务器现在支持完整的趋势与话题分析功能，让您可以：

- 📊 获取全球和地区趋势话题
- 🔍 深度分析特定话题
- 🏷️ 发现相关热门标签
- 📈 获取话题参与度统计
- 🌍 查看全球可用趋势位置

## 主要功能

### 1. 全球趋势 (`get_global_trends`)

获取当前全球最热门的趋势话题。

**使用示例：**
```
获取全球趋势话题
获取前20个全球趋势
```

**返回信息：**
- 趋势排名
- 话题名称
- 相关URL
- 推文数量（如果可用）
- 更新时间

### 2. 地区趋势 (`get_regional_trends`)

获取特定国家或地区的趋势话题。

**支持的地区：**
- 美国 (United States, USA, US)
- 日本 (Japan)
- 英国 (United Kingdom, UK)
- 加拿大 (Canada)
- 澳大利亚 (Australia)
- 德国 (Germany)
- 法国 (France)
- 巴西 (Brazil)
- 印度 (India)
- 中国 (China)
- 韩国 (South Korea)
- 墨西哥 (Mexico)
- 意大利 (Italy)
- 西班牙 (Spain)
- 俄罗斯 (Russia)
- 土耳其 (Turkey)
- 阿根廷 (Argentina)

**使用示例：**
```
获取美国的趋势话题
获取日本地区的热门趋势
获取英国前15个趋势话题
```

**高级用法（使用WOEID）：**
```
获取WOEID 23424977的趋势（美国）
```

### 3. 可用趋势位置 (`get_available_trend_locations`)

查看所有支持趋势查询的位置列表。

**使用示例：**
```
查看可用的趋势位置列表
获取所有支持趋势的国家和城市
```

**返回信息：**
- 按国家分组的位置列表
- 每个位置的WOEID
- 位置类型信息
- 总计位置数量

### 4. 话题详细分析 (`get_topic_details`)

深度分析特定话题或标签的详细信息。

**使用示例：**
```
获取话题 '#AI' 的详细信息
分析 'ChatGPT' 话题的相关推文
获取 '#Python' 的前30条相关推文
分析 '人工智能' 话题，包含转推
```

**分析内容：**
- 相关推文列表（按参与度排序）
- 总参与度统计
- 相关标签分析
- 提及用户统计
- 推文作者信息
- 时间分布分析

### 5. 热门标签搜索 (`search_trending_hashtags`)

基于关键词搜索相关的热门标签。

**使用示例：**
```
搜索与 '人工智能' 相关的热门标签
查找 'Python' 相关的流行标签
搜索 '机器学习' 的前20个相关标签
```

**分析指标：**
- 标签使用频率
- 平均参与度
- 趋势评分
- 示例推文
- 使用统计

## 高级功能

### 参数自定义

大多数功能支持参数自定义：

**限制结果数量：**
```
获取前5个全球趋势
获取美国前30个趋势话题
```

**包含/排除转推：**
```
分析 '#AI' 话题，包含转推
获取 'Python' 相关推文，排除转推
```

**指定最大结果数：**
```
搜索 '机器学习' 相关标签，最多50个结果
```

### 数据分析功能

#### 趋势评分算法
热门标签搜索使用综合评分算法：
- **频率评分** (60%): 标签在相关推文中的出现频率
- **参与度评分** (40%): 使用该标签的推文的平均参与度

#### 参与度计算
参与度 = 点赞数 + 转推数 + 回复数 + 引用数

#### 时间分析
- 推文发布时间分布
- 趋势更新时间戳
- 数据收集时间记录

## 使用技巧

### 1. 最佳实践

**趋势监控：**
- 定期检查全球和地区趋势
- 关注特定行业相关话题
- 监控品牌或产品相关讨论

**话题分析：**
- 使用具体的标签或关键词
- 结合地区趋势进行本地化分析
- 关注高参与度的推文

**标签发现：**
- 从广泛关键词开始搜索
- 分析相关标签的使用模式
- 关注新兴标签趋势

### 2. 数据解读

**推文数量指标：**
- `null` 或 `N/A`: Twitter未提供数据
- 数字: 估计的推文数量
- 较高数字通常表示更热门的话题

**参与度分析：**
- 高参与度推文通常更有影响力
- 平均参与度反映话题的整体热度
- 参与度趋势可以预测话题发展

**地区差异：**
- 不同地区的趋势反映当地关注点
- 全球趋势vs地区趋势的对比分析
- 文化和时区因素的影响

### 3. API限制和优化

**调用频率：**
- 趋势API有调用次数限制
- 建议合理安排查询频率
- 优先查询最重要的数据

**数据更新：**
- 趋势数据约每15分钟更新一次
- 避免过于频繁的重复查询
- 缓存重要数据以减少API调用

## 故障排除

### 常见错误

**403 Forbidden:**
- 可能需要升级API计划
- 检查API权限设置
- 确认账户状态正常

**404 Not Found:**
- 检查WOEID是否正确
- 确认位置是否支持趋势查询
- 验证话题或标签是否存在

**429 Rate Limit:**
- 等待15分钟后重试
- 减少查询频率
- 考虑升级API计划

**401 Unauthorized:**
- 检查API凭据配置
- 确认令牌未过期
- 验证权限设置

### 测试和诊断

**运行测试脚本：**
```bash
python test_trends_functions.py
```

**API连接测试：**
```
测试API连接
```

**功能验证：**
```
获取全球趋势话题
查看可用的趋势位置列表
```

## API计划要求

### ⚠️ 重要提醒：免费账户限制

**免费账户无法使用以下功能：**
- ❌ 全球趋势查询 (`get_global_trends`)
- ❌ 地区趋势查询 (`get_regional_trends`) 
- ❌ 可用趋势位置 (`get_available_trend_locations`)

**免费账户可以使用（有限制）：**
- ✅ 话题详细分析 (`get_topic_details`) - 仅最近7天，调用次数很少
- ✅ 热门标签搜索 (`search_trending_hashtags`) - 仅最近7天，调用次数很少

### 免费计划 (Free)
- **趋势功能**: ❌ 不支持
- **搜索功能**: ✅ 严格限制（7天历史，月调用次数很少）
- **适用场景**: 基本测试和学习

### Basic计划 ($100/月)
- **趋势功能**: ✅ 完整支持
- **搜索功能**: ✅ 30天历史，充足调用次数
- **适用场景**: 个人项目和小型应用

### Pro计划 ($5000/月)
- **趋势功能**: ✅ 完整支持
- **搜索功能**: ✅ 完整历史，大量调用次数
- **适用场景**: 企业级应用和深度分析

## 实际应用场景

### 1. 内容创作
- 发现热门话题进行内容创作
- 分析受众兴趣和关注点
- 优化发布时机和标签使用

### 2. 市场研究
- 监控行业趋势和讨论
- 分析竞争对手话题表现
- 识别新兴市场机会

### 3. 社交媒体管理
- 制定话题营销策略
- 监控品牌相关讨论
- 优化社交媒体参与度

### 4. 新闻和媒体
- 发现突发新闻话题
- 分析公众舆论趋势
- 追踪重要事件发展

## 总结

趋势与话题功能为X(Twitter) MCP服务器提供了强大的数据分析能力。通过合理使用这些功能，您可以：

- 🎯 精准把握热点话题
- 📊 深度分析社交媒体趋势
- 🚀 优化内容策略和发布时机
- 🔍 发现新的机会和洞察

记住要根据您的API计划合理使用这些功能，并关注API调用限制以确保稳定的服务体验。